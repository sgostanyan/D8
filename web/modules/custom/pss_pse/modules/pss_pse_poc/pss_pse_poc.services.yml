services:

  # Controllers
  pss_pse_poc.controller:
    class: Drupal\pss_pse_poc\Controller\POCController
    autowire: true

  pss_pse.api_tarifer:
    class: Drupal\pss_pse_poc\Service\ApiTariferService
    arguments: ['%pss_pse_api_auth%', '%pss_pse_api_tarifer%', '@http_client', '@logger.factory']

  pss_pse.api_coconut:
    class: Drupal\pss_pse_poc\Service\ApiCoconutService
    arguments: [ '%pss_pse_api_coconut_auth%', '%pss_pse_api_coconut%', '@http_client', '@logger.factory' ]

  pss_pse.api_sirene:
    class: Drupal\pss_pse_poc\Service\ApiSireneService
    arguments: [ '@http_client', '@logger.factory' ]

parameters:
  # API TARIFER
  pss_pse_api_auth:
    dev:
      apiKey: '5F75DDCEDC4593B792556B9844D03703672C5CE1047053C2B407A619D0641702'
      user: 'USER_PFS'
      pwd: 'ScK5mYa2u8aT6Fgaz'
    prod:
      apiKey: '5F75DDCEDC4593B792556B9844D03703672C5CE1047053C2B407A619D0641702'
      user: 'USER_PFS'
      pwd: 'ScK5mYa2u8aT6Fgaz'
  pss_pse_api_tarifer:
    dev:
      scheme: 'https'
      host: 'rec.api.harmonie-mutuelle.fr'
      basePathIndiv: 'services/tarifer-indiv/v1'
      basePathColl: 'services/tarifer-coll/v1'
    prod:
      scheme: 'https'
      host: 'api.harmonie-mutuelle.fr'
      basePathIndiv: 'services/tarifer-indiv/v1'
      basePathColl: 'services/tarifer-coll/v1'

  # API COCONUT
  pss_pse_api_coconut_auth:
    scheme: 'https'
    host: 'ccn.harmonie-mutuelle.fr'
    basePath: 'api/login'
    user: 'hm-api'
    pwd: 'HM:aPi6-8CCnGQL'
  pss_pse_api_coconut:
    scheme: 'https'
    host: 'ccn.harmonie-mutuelle.fr'
    basePath: 'api/gql'
